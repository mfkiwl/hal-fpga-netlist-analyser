<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HAL: /home/runner/work/hal-fpga-netlist-analyser/hal-fpga-netlist-analyser/src/plugin_system/plugin_manager.cpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="hal_icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">HAL
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('plugin__system_2plugin__manager_8cpp_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">plugin_manager.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="plugin__system_2plugin__manager_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="plugin__manager_8h.html">hal_core/plugin_system/plugin_manager.h</a>&quot;</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160; </div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="plugin__interface__cli_8h.html">hal_core/plugin_system/plugin_interface_cli.h</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="plugin__interface__ui_8h.html">hal_core/plugin_system/plugin_interface_ui.h</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="runtime__library_8h.html">hal_core/plugin_system/runtime_library.h</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="log_8h.html">hal_core/utilities/log.h</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="utils_8h.html">hal_core/utilities/utils.h</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160; </div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;vector&gt;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160; </div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifdef _WIN32</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;tchar.h&gt;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;windows.h&gt;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &lt;dirent.h&gt;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &lt;sys/stat.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160; </div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">namespace </span><a class="code" href="namespacehal.html">hal</a></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html">   21</a></span>&#160;    <span class="keyword">namespace </span>plugin_manager</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <span class="keyword">namespace</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        {</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;            <span class="comment">// stores library and factory identified by plugin name)</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            std::unordered_map&lt;std::string, std::tuple&lt;std::unique_ptr&lt;BasePluginInterface&gt;, std::unique_ptr&lt;RuntimeLibrary&gt;&gt;&gt; m_loaded_plugins;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160; </div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;            <span class="comment">// stores the CLI parser option for CLI plugins</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;            std::unordered_map&lt;std::string, std::string&gt; m_cli_option_to_cli_plugin_name;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160; </div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;            <span class="comment">// stores the CLI parser option for UI plugins</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;            std::unordered_map&lt;std::string, std::string&gt; m_cli_option_to_ui_plugin_name;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160; </div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;            <span class="comment">// stores the GUI callback</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;            <a class="code" href="classhal_1_1_callback_hook.html">CallbackHook</a>&lt;<a class="code" href="namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">void</a>(<span class="keywordtype">bool</span>, std::string <span class="keyword">const</span>&amp;, std::string <span class="keyword">const</span>&amp;)&gt; m_hook;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160; </div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;            <span class="comment">// stores the generic option parser</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <a class="code" href="classhal_1_1_program_options.html">ProgramOptions</a> m_existing_options(<span class="stringliteral">&quot;existing options&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160; </div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            <span class="comment">// stores the plugin option description</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;            <a class="code" href="classhal_1_1_program_options.html">ProgramOptions</a> m_plugin_options(<span class="stringliteral">&quot;plugin options&quot;</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160; </div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="comment">// stores the plugin folder</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;            std::vector&lt;std::filesystem::path&gt; m_plugin_folders = <a class="code" href="namespacehal_1_1utils.html#aa84f04771420e5c67784826253d48901">utils::get_plugin_directories</a>();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160; </div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordtype">bool</span> solve_dependencies(std::string plugin_name, std::set&lt;std::string&gt; dep_file_name)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;            {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;                <span class="keywordflow">if</span> (plugin_name.empty())</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;                    <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;parameter &#39;plugin_name&#39; is empty&quot;</span>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                <span class="keywordflow">if</span> (dep_file_name.empty())</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;                {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                    <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;no dependency for plugin &#39;{}&#39;&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; file_name : dep_file_name)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                    <span class="keyword">auto</span> dep_plugin_name        = std::filesystem::path(file_name).stem().string();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                    <span class="keyword">auto</span> dep_file_name_with_ext = file_name + <span class="stringliteral">&quot;.&quot;</span> + <a class="code" href="arch__linux_8h.html#a8482578c5c42538609e6e0abedcfc132">LIBRARY_FILE_EXTENSION</a>;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160; </div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                    <span class="keywordflow">if</span> (m_loaded_plugins.find(dep_plugin_name) != m_loaded_plugins.end())</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    std::filesystem::path file_path = <a class="code" href="namespacehal_1_1utils.html#afbfe0cd7b2ec80643d4c16e4ffb7a7d3">utils::get_file</a>(dep_file_name_with_ext, m_plugin_folders);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                    <span class="keywordflow">if</span> (file_path == <span class="stringliteral">&quot;&quot;</span> || !<a class="code" href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">load</a>(dep_plugin_name, file_path))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                    {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                        <span class="keywordtype">bool</span> lib_load_failed = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                        <span class="keywordflow">if</span> (strlen(<a class="code" href="arch__linux_8h.html#a8b4cd25d21b3d1520a4fc3e967aa470c">ALTERNATE_LIBRARY_FILE_EXTENSION</a>))</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                        {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                            dep_file_name_with_ext = file_name + <span class="stringliteral">&quot;.&quot;</span> + <a class="code" href="arch__linux_8h.html#a8b4cd25d21b3d1520a4fc3e967aa470c">ALTERNATE_LIBRARY_FILE_EXTENSION</a>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                            file_path = <a class="code" href="namespacehal_1_1utils.html#afbfe0cd7b2ec80643d4c16e4ffb7a7d3">utils::get_file</a>(dep_file_name_with_ext, m_plugin_folders);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                            <span class="keywordflow">if</span> (file_path != <span class="stringliteral">&quot;&quot;</span> &amp;&amp; <a class="code" href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">load</a>(dep_plugin_name, file_path))</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                lib_load_failed  = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                        }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                        <span class="keywordflow">if</span> (lib_load_failed)</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                        {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;cannot solve dependency &#39;{}&#39; for plugin &#39;{}&#39;&quot;</span>, dep_plugin_name, plugin_name);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                        }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160; </div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;                    <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;solved dependency &#39;{}&#39; for plugin &#39;{}&#39;&quot;</span>, dep_plugin_name, plugin_name);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;solved {} dependencies for plugin &#39;{}&#39;&quot;</span>, dep_file_name.size(), plugin_name);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160; </div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;            <span class="keywordtype">bool</span> has_valid_file_extension(std::filesystem::path file_name)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor">#if defined(__APPLE__) &amp;&amp; defined(__MACH__)</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacehal_1_1utils.html#a0de77a47a2551c69619fd6e3fce84674">utils::ends_with</a>(file_name.string(), std::string(<span class="stringliteral">&quot;.so&quot;</span>)))</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                <span class="keywordflow">if</span> (file_name.string().find(<span class="stringliteral">&quot;.so&quot;</span>) != std::string::npos)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="namespacehal_1_1utils.html#a0de77a47a2551c69619fd6e3fce84674">utils::ends_with</a>(file_name.string(), std::string(<span class="stringliteral">&quot;.icloud&quot;</span>)))</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">return</span> (<a class="code" href="namespacehal_1_1utils.html#a0de77a47a2551c69619fd6e3fce84674">utils::ends_with</a>(file_name.string(), std::string(<span class="stringliteral">&quot;.&quot;</span>) + std::string(<a class="code" href="arch__linux_8h.html#a8482578c5c42538609e6e0abedcfc132">LIBRARY_FILE_EXTENSION</a>)));</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }    <span class="comment">// namespace</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160; </div>
<div class="line"><a name="l00105"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#aacd4893d3d32447c4ed1f27b21a827cf">  105</a></span>&#160;        std::set&lt;std::string&gt; <a class="code" href="namespacehal_1_1plugin__manager.html#aacd4893d3d32447c4ed1f27b21a827cf">get_plugin_names</a>()</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            std::set&lt;std::string&gt; <a class="code" href="_apache_01_license_8txt.html#a30594132172b3373a0a76459eed4796e">names</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; it : m_loaded_plugins)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <a class="code" href="_apache_01_license_8txt.html#a30594132172b3373a0a76459eed4796e">names</a>.insert(it.first);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="_apache_01_license_8txt.html#a30594132172b3373a0a76459eed4796e">names</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160; </div>
<div class="line"><a name="l00115"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#ac3ea4574499d7a7ec9a879f1a1a5b685">  115</a></span>&#160;        std::unordered_map&lt;std::string, std::string&gt; <a class="code" href="namespacehal_1_1plugin__manager.html#ac3ea4574499d7a7ec9a879f1a1a5b685">get_cli_plugin_flags</a>()</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            <span class="keywordflow">return</span> m_cli_option_to_cli_plugin_name;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160; </div>
<div class="line"><a name="l00120"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#ac7195b40f8ac66e68cfe5f8e6cf6f074">  120</a></span>&#160;        std::unordered_map&lt;std::string, std::string&gt; <a class="code" href="namespacehal_1_1plugin__manager.html#ac7195b40f8ac66e68cfe5f8e6cf6f074">get_ui_plugin_flags</a>()</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">return</span> m_cli_option_to_ui_plugin_name;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160; </div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#ad34e384af419d40a22d5486356772c24">  125</a></span>&#160;        <a class="code" href="classhal_1_1_program_options.html">ProgramOptions</a> <a class="code" href="namespacehal_1_1plugin__manager.html#ad34e384af419d40a22d5486356772c24">get_cli_plugin_options</a>()</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            <span class="keywordflow">return</span> m_plugin_options;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160; </div>
<div class="line"><a name="l00130"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#af13862a2a5565fb995d7cc93c0bfd980">  130</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="namespacehal_1_1plugin__manager.html#af13862a2a5565fb995d7cc93c0bfd980">load_all_plugins</a>(<span class="keyword">const</span> std::vector&lt;std::filesystem::path&gt;&amp; directory_names)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keyword">auto</span> directories = (!directory_names.empty()) ? directory_names : m_plugin_folders;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; directory : directories)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <span class="keywordflow">if</span> (!std::filesystem::exists(directory))</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                {</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <a class="code" href="net__layout__point_8h.html#aa7fe0c70576e86ca2c5f641bb47ccc9d">u32</a> num_of_loaded_plugins = 0;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a> : <a class="code" href="classhal_1_1utils_1_1_directory_range.html">utils::DirectoryRange</a>(directory))</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                    <span class="keywordflow">if</span> (!has_valid_file_extension(<a class="code" href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a>) || std::filesystem::is_directory(<a class="code" href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a>))</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                        <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160; </div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                    <span class="keyword">auto</span> plugin_name = <a class="code" href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a>.path().stem().string();</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">load</a>(plugin_name, <a class="code" href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a>.path()))</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;                    {</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                        num_of_loaded_plugins++;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    }</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;loaded {} plugins from &#39;{}&#39;&quot;</span>, num_of_loaded_plugins, directory.string());</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160; </div>
<div class="line"><a name="l00156"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">  156</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">load</a>(<span class="keyword">const</span> std::string&amp; plugin_name, <span class="keyword">const</span> std::filesystem::path&amp; file_name)</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            <a class="code" href="group__utilities.html#ga5a10e8bbe0ebf932e114b116b32d7ed2">log_info</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;loading plugin &#39;{}&#39;...&quot;</span>, file_name.string());</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keywordflow">if</span> (plugin_name.empty())</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;parameter &#39;plugin_name&#39; is empty&quot;</span>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (file_name.empty())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;parameter &#39;file_name&#39; is empty&quot;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            }</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160; </div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="keywordflow">if</span> (m_loaded_plugins.find(plugin_name) != m_loaded_plugins.end())</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;plugin &#39;{}&#39; is already loaded&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            }</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160; </div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="comment">/* load library */</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keyword">auto</span> lib = std::make_unique&lt;RuntimeLibrary&gt;();</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">if</span> (!lib-&gt;load_library(file_name.string()))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160; </div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            <span class="comment">/* get factory of library */</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            <span class="keyword">auto</span> factory = (<a class="code" href="namespacehal.html#af1388a5c4377a81f3215cac5d274fd60">instantiate_plugin_function</a>)lib-&gt;get_function(<span class="stringliteral">&quot;create_plugin_instance&quot;</span>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">if</span> (factory == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;file does not seem to be a HAL plugin since it does not contain a factory function &#39;create_plugin_instance&#39;.&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;            }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;            <span class="keyword">auto</span> instance = factory();</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            <span class="keywordflow">if</span> (instance == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;factory constructor for plugin &#39;{}&#39; returned a nullptr&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160; </div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <span class="comment">/* solve dependencies */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            std::set&lt;std::string&gt; dep_file_name = instance-&gt;get_dependencies();</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">if</span> (!solve_dependencies(plugin_name, dep_file_name))</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;            }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160; </div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;            <span class="comment">/* add cli options */</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">if</span> (instance-&gt;has_type(<a class="code" href="plugin__interface__base_8h.html#a9280bc62af1b57e6460d0b1c251908bd">PluginInterfaceType::cli</a>))</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                <span class="keyword">auto</span> plugin = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classhal_1_1_c_l_i_plugin_interface.html">CLIPluginInterface</a>*<span class="keyword">&gt;</span>(instance.get());</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                <span class="keywordflow">if</span> (plugin == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160; </div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                <span class="keyword">auto</span> cli_options = plugin-&gt;<a class="code" href="classhal_1_1_c_l_i_plugin_interface.html#ad8ef97cbc2f3c5ae5280d48c6c25a7c6">get_cli_options</a>();</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; cli_option : cli_options.get_options())</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; flag : std::get&lt;0&gt;(cli_option))</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        <span class="keywordflow">if</span> (m_existing_options.is_registered(flag))</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;command line option &#39;{}&#39; is already used by generic program options -- use another one.&quot;</span>, flag);</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        }</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        <span class="keywordflow">if</span> (m_cli_option_to_cli_plugin_name.find(flag) != m_cli_option_to_cli_plugin_name.end())</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                <span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;command line option &#39;{}&#39; is already used by plugin &#39;{}&#39; -- use another option in plugin &#39;{}&#39;.&quot;</span>, flag, m_cli_option_to_cli_plugin_name[flag], plugin_name);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        }</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        m_cli_option_to_cli_plugin_name[flag] = plugin_name;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;registered command line option &#39;{}&#39; for plugin &#39;{}&#39;.&quot;</span>, flag, plugin-&gt;get_name());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                    }</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                }</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                m_plugin_options.add(cli_options);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            }</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            <span class="keywordflow">if</span> (instance-&gt;has_type(<a class="code" href="plugin__interface__base_8h.html#a10e7df18d8a816af76f947453883ff42">PluginInterfaceType::interactive_ui</a>))</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            {</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                <span class="keyword">auto</span> plugin = <span class="keyword">dynamic_cast&lt;</span><a class="code" href="classhal_1_1_u_i_plugin_interface.html">UIPluginInterface</a>*<span class="keyword">&gt;</span>(instance.get());</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">if</span> (plugin == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                {</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160; </div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keyword">auto</span> cli_options = plugin-&gt;<a class="code" href="classhal_1_1_u_i_plugin_interface.html#aa402ba253b62f31e37ffa2f140600da3">get_cli_options</a>();</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; cli_option : cli_options.get_options())</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                {</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; flag : std::get&lt;0&gt;(cli_option))</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    {</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                        <span class="keywordflow">if</span> (m_existing_options.is_registered(flag))</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                        {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;command line option &#39;{}&#39; is already used by generic program options -- use another one.&quot;</span>, flag);</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                        <span class="keywordflow">if</span> (m_cli_option_to_cli_plugin_name.find(flag) != m_cli_option_to_cli_plugin_name.end())</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        {</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                <span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;command line option &#39;{}&#39; is already used by cli plugin &#39;{}&#39; -- use another option in plugin &#39;{}&#39;.&quot;</span>, flag, m_cli_option_to_cli_plugin_name[flag], plugin_name);</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                        }</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                        <span class="keywordflow">if</span> (m_cli_option_to_ui_plugin_name.find(flag) != m_cli_option_to_ui_plugin_name.end())</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                        {</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;                            <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                                <span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;command line option &#39;{}&#39; is already used by ui plugin &#39;{}&#39; -- use another option in plugin &#39;{}&#39;.&quot;</span>, flag, m_cli_option_to_ui_plugin_name[flag], plugin_name);</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                        }</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                        m_cli_option_to_ui_plugin_name[flag] = plugin_name;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                        <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;registered command line option &#39;{}&#39; for plugin &#39;{}&#39;.&quot;</span>, flag, plugin-&gt;get_name());</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    }</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                m_plugin_options.add(cli_options);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            }</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160; </div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            instance-&gt;initialize_logging();</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160; </div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;            instance-&gt;on_load();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            m_loaded_plugins[plugin_name] = std::make_tuple(std::move(instance), std::move(lib));</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160; </div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;            <span class="comment">/* notify callback that a plugin was loaded*/</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            m_hook(<span class="keyword">true</span>, plugin_name, file_name.string());</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;loaded plugin &#39;{}&#39;.&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        }</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#acb6d1f3c164b832fb19257b1df06aa53">  285</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="namespacehal_1_1plugin__manager.html#acb6d1f3c164b832fb19257b1df06aa53">unload_all_plugins</a>()</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            <span class="keywordflow">if</span> (m_loaded_plugins.size() == 0)</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;            {</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;no plugins to unload&quot;</span>);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;            <span class="keyword">auto</span> loaded_plugin_names = <a class="code" href="namespacehal_1_1plugin__manager.html#aacd4893d3d32447c4ed1f27b21a827cf">get_plugin_names</a>();</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; <a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a> : loaded_plugin_names)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">if</span> (!<a class="code" href="namespacehal_1_1plugin__manager.html#a54caf767ba2c2f754875e9aad4849767">unload</a>(<a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>))</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;could not unload plugin &#39;{}&#39;&quot;</span>, <a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>);</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;            <a class="code" href="group__utilities.html#ga5a10e8bbe0ebf932e114b116b32d7ed2">log_info</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;unloaded all {} plugins&quot;</span>, loaded_plugin_names.size());</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#a54caf767ba2c2f754875e9aad4849767">  304</a></span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="namespacehal_1_1plugin__manager.html#a54caf767ba2c2f754875e9aad4849767">unload</a>(<span class="keyword">const</span> std::string&amp; plugin_name)</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        {</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;            <span class="keyword">auto</span> it = m_loaded_plugins.find(plugin_name);</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;            <span class="keywordflow">if</span> (it == m_loaded_plugins.end())</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;            {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;cannot find plugin &#39;{}&#39; to unload it&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;            }</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;            <a class="code" href="group__utilities.html#ga5a10e8bbe0ebf932e114b116b32d7ed2">log_info</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;unloading plugin &#39;{}&#39;...&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;            {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                <span class="keyword">auto</span> tmp = m_cli_option_to_cli_plugin_name;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> [flag, <a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>] : tmp)</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                {</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a> == plugin_name)</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    {</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                        m_cli_option_to_cli_plugin_name.erase(flag);</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        m_plugin_options.remove(flag);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;            {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                <span class="keyword">auto</span> tmp = m_cli_option_to_ui_plugin_name;</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;                <span class="keywordflow">for</span> (<span class="keyword">auto</span> [flag, <a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a>] : tmp)</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                {</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a> == plugin_name)</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;                        m_cli_option_to_ui_plugin_name.erase(flag);</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                        m_plugin_options.remove(flag);</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;                    }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                }</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;            }</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160; </div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">auto</span> rt_library  = std::move(std::get&lt;1&gt;(it-&gt;second));</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keyword">auto</span> plugin_inst = std::move(std::get&lt;0&gt;(it-&gt;second));</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            m_loaded_plugins.erase(it);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keyword">auto</span> file_name = rt_library-&gt;get_file_name();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            plugin_inst-&gt;on_unload();</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="comment">// actual unloading</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;            <span class="comment">// order of unloading is important, so we do it manually here:</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;            <span class="comment">// first destroy the plugin instance, then destroy the runtime library</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;            plugin_inst.reset();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;            rt_library.reset();</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160; </div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;            <span class="comment">/* notify callback that a plugin was unloaded */</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;            m_hook(<span class="keyword">false</span>, plugin_name, file_name);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160; </div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;            <a class="code" href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;unloaded plugin &#39;{}&#39;&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;        }</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160; </div>
<div class="line"><a name="l00358"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#a6994c89986fbfb4dff006887d1aa5e12">  358</a></span>&#160;        <a class="code" href="classhal_1_1_base_plugin_interface.html">BasePluginInterface</a>* <a class="code" href="namespacehal_1_1plugin__manager.html#a6994c89986fbfb4dff006887d1aa5e12">get_plugin_instance</a>(<span class="keyword">const</span> std::string&amp; plugin_name, <span class="keywordtype">bool</span> <a class="code" href="namespacehal.html#a45f4052286462e64763c142a3e26ab93">initialize</a>)</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        {</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;            <span class="keyword">auto</span> it = m_loaded_plugins.find(plugin_name);</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;            <span class="keywordflow">if</span> (it == m_loaded_plugins.end())</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;            {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;plugin &#39;{}&#39; is not loaded&quot;</span>, plugin_name);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;            }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;            <span class="keyword">auto</span> instance = std::get&lt;0&gt;(it-&gt;second).get();</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;            <span class="keywordflow">if</span> (instance != <span class="keyword">nullptr</span> &amp;&amp; <a class="code" href="namespacehal.html#a45f4052286462e64763c142a3e26ab93">initialize</a>)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            {</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;                instance-&gt;initialize();</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;            }</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;            <span class="keywordflow">return</span> instance;</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;        }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160; </div>
<div class="line"><a name="l00375"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#a09fe50a3d6651ef3eebbfcfb2f36cea8">  375</a></span>&#160;        <a class="code" href="defines_8h.html#a1af9f95651e921615e75917a6dd1b574">u64</a> <a class="code" href="namespacehal_1_1plugin__manager.html#a09fe50a3d6651ef3eebbfcfb2f36cea8">add_model_changed_callback</a>(std::function&lt;<span class="keywordtype">void</span>(<span class="keywordtype">bool</span>, std::string <span class="keyword">const</span>&amp;, std::string <span class="keyword">const</span>&amp;)&gt; callback)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;            <span class="keywordflow">if</span> (callback == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;            {</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;                <a class="code" href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a>(<span class="stringliteral">&quot;core&quot;</span>, <span class="stringliteral">&quot;parameter &#39;callback&#39; is nullptr&quot;</span>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;                <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;            }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;            <span class="keywordflow">return</span> m_hook.add_callback(callback);</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;        }</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160; </div>
<div class="line"><a name="l00385"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#ad66fea3d4017a3c7b058436924d3dda3">  385</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="namespacehal_1_1plugin__manager.html#ad66fea3d4017a3c7b058436924d3dda3">remove_model_changed_callback</a>(<a class="code" href="defines_8h.html#a1af9f95651e921615e75917a6dd1b574">u64</a> <span class="keywordtype">id</span>)</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        {</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;            m_hook.remove_callback(<span class="keywordtype">id</span>);</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        }</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160; </div>
<div class="line"><a name="l00390"></a><span class="lineno"><a class="line" href="namespacehal_1_1plugin__manager.html#a01b664fe781926cb67034f778e5242b1">  390</a></span>&#160;        <span class="keywordtype">void</span> <a class="code" href="namespacehal_1_1plugin__manager.html#a01b664fe781926cb67034f778e5242b1">add_existing_options_description</a>(<span class="keyword">const</span> <a class="code" href="classhal_1_1_program_options.html">ProgramOptions</a>&amp; existing_options)</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;        {</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;            m_existing_options.add(existing_options);</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        }</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    }    <span class="comment">// namespace plugin_manager</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;}    <span class="comment">// namespace hal</span></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<div class="ttc" id="a_apache_01_license_8txt_html_a54c3aaa43358b77e4f57f4f72cbe56c6"><div class="ttname"><a href="_apache_01_license_8txt.html#a54c3aaa43358b77e4f57f4f72cbe56c6">file</a></div><div class="ttdeci">then any Derivative Works that You distribute must include a readable copy of the attribution notices contained within such NOTICE file</div><div class="ttdef"><b>Definition:</b> <a href="_apache_01_license_8txt_source.html#l00109">Apache License.txt:109</a></div></div>
<div class="ttc" id="anamespacehal_1_1utils_html_aa84f04771420e5c67784826253d48901"><div class="ttname"><a href="namespacehal_1_1utils.html#aa84f04771420e5c67784826253d48901">hal::utils::get_plugin_directories</a></div><div class="ttdeci">std::vector&lt; std::filesystem::path &gt; get_plugin_directories()</div><div class="ttdef"><b>Definition:</b> <a href="utils_8cpp_source.html#l00184">utils.cpp:184</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_ad34e384af419d40a22d5486356772c24"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#ad34e384af419d40a22d5486356772c24">hal::plugin_manager::get_cli_plugin_options</a></div><div class="ttdeci">ProgramOptions get_cli_plugin_options()</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00125">plugin_manager.cpp:125</a></div></div>
<div class="ttc" id="aclasshal_1_1utils_1_1_directory_range_html"><div class="ttname"><a href="classhal_1_1utils_1_1_directory_range.html">hal::utils::DirectoryRange</a></div><div class="ttdef"><b>Definition:</b> <a href="utils_8h_source.html#l00688">utils.h:688</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_a5d5a62ed3f2759dda79dced8902aa376"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#a5d5a62ed3f2759dda79dced8902aa376">hal::plugin_manager::load</a></div><div class="ttdeci">bool load(const std::string &amp;plugin_name, const std::filesystem::path &amp;file_name)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00156">plugin_manager.cpp:156</a></div></div>
<div class="ttc" id="anetlist_2persistent_2netlist__serializer_8cpp_html_a9b45b3e13bd9167aab02e17e08916231"><div class="ttname"><a href="netlist_2persistent_2netlist__serializer_8cpp.html#a9b45b3e13bd9167aab02e17e08916231">name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="netlist_2persistent_2netlist__serializer_8cpp_source.html#l00056">netlist_serializer.cpp:56</a></div></div>
<div class="ttc" id="aclasshal_1_1_callback_hook_html"><div class="ttname"><a href="classhal_1_1_callback_hook.html">hal::CallbackHook</a></div><div class="ttdef"><b>Definition:</b> <a href="callback__hook_8h_source.html#l00040">callback_hook.h:40</a></div></div>
<div class="ttc" id="aclasshal_1_1_u_i_plugin_interface_html"><div class="ttname"><a href="classhal_1_1_u_i_plugin_interface.html">hal::UIPluginInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__ui_8h_source.html#l00039">plugin_interface_ui.h:39</a></div></div>
<div class="ttc" id="aplugin__interface__base_8h_html_a10e7df18d8a816af76f947453883ff42"><div class="ttname"><a href="plugin__interface__base_8h.html#a10e7df18d8a816af76f947453883ff42">interactive_ui</a></div><div class="ttdeci">interactive_ui</div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__base_8h_source.html#l00061">plugin_interface_base.h:61</a></div></div>
<div class="ttc" id="a_apache_01_license_8txt_html_a30594132172b3373a0a76459eed4796e"><div class="ttname"><a href="_apache_01_license_8txt.html#a30594132172b3373a0a76459eed4796e">names</a></div><div class="ttdeci">within a display generated by the Derivative if and wherever such third party notices normally appear The contents of the NOTICE file are for informational purposes only and do not modify the License You may add Your own attribution notices within Derivative Works that You alongside or as an addendum to the NOTICE text from the provided that such additional attribution notices cannot be construed as modifying the License You may add Your own copyright statement to Your modifications and may provide additional or different license terms and conditions for or distribution of Your or for any such Derivative Works as a provided Your and distribution of the Work otherwise complies with the conditions stated in this License Submission of Contributions Unless You explicitly state any Contribution intentionally submitted for inclusion in the Work by You to the Licensor shall be under the terms and conditions of this without any additional terms or conditions Notwithstanding the nothing herein shall supersede or modify the terms of any separate license agreement you may have executed with Licensor regarding such Contributions Trademarks This License does not grant permission to use the trade names</div><div class="ttdef"><b>Definition:</b> <a href="_apache_01_license_8txt_source.html#l00139">Apache License.txt:139</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_a6994c89986fbfb4dff006887d1aa5e12"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#a6994c89986fbfb4dff006887d1aa5e12">hal::plugin_manager::get_plugin_instance</a></div><div class="ttdeci">BasePluginInterface * get_plugin_instance(const std::string &amp;plugin_name, bool initialize)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00358">plugin_manager.cpp:358</a></div></div>
<div class="ttc" id="anamespacehal_html_af1388a5c4377a81f3215cac5d274fd60"><div class="ttname"><a href="namespacehal.html#af1388a5c4377a81f3215cac5d274fd60">hal::instantiate_plugin_function</a></div><div class="ttdeci">std::unique_ptr&lt; BasePluginInterface &gt;(*)() instantiate_plugin_function</div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__base_8h_source.html#l00157">plugin_interface_base.h:157</a></div></div>
<div class="ttc" id="anamespacehal_html"><div class="ttname"><a href="namespacehal.html">hal</a></div><div class="ttdef"><b>Definition:</b> <a href="parser__liberty_8cpp_source.html#l00009">parser_liberty.cpp:9</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_aacd4893d3d32447c4ed1f27b21a827cf"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#aacd4893d3d32447c4ed1f27b21a827cf">hal::plugin_manager::get_plugin_names</a></div><div class="ttdeci">std::set&lt; std::string &gt; get_plugin_names()</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00105">plugin_manager.cpp:105</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga522d6d0c8a408128993be37c86656280"><div class="ttname"><a href="group__utilities.html#ga522d6d0c8a408128993be37c86656280">log_error</a></div><div class="ttdeci">#define log_error(channel,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00078">log.h:78</a></div></div>
<div class="ttc" id="aplugin__interface__base_8h_html_a9280bc62af1b57e6460d0b1c251908bd"><div class="ttname"><a href="plugin__interface__base_8h.html#a9280bc62af1b57e6460d0b1c251908bd">cli</a></div><div class="ttdeci">cli</div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__base_8h_source.html#l00060">plugin_interface_base.h:60</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga59cad6336b54d8e4072e0861ce37b466"><div class="ttname"><a href="group__utilities.html#ga59cad6336b54d8e4072e0861ce37b466">log_debug</a></div><div class="ttdeci">#define log_debug(channel,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00074">log.h:74</a></div></div>
<div class="ttc" id="autils_8h_html"><div class="ttname"><a href="utils_8h.html">utils.h</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_ac3ea4574499d7a7ec9a879f1a1a5b685"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#ac3ea4574499d7a7ec9a879f1a1a5b685">hal::plugin_manager::get_cli_plugin_flags</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::string &gt; get_cli_plugin_flags()</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00115">plugin_manager.cpp:115</a></div></div>
<div class="ttc" id="agroup__utilities_html_ga5a10e8bbe0ebf932e114b116b32d7ed2"><div class="ttname"><a href="group__utilities.html#ga5a10e8bbe0ebf932e114b116b32d7ed2">log_info</a></div><div class="ttdeci">#define log_info(channel,...)</div><div class="ttdef"><b>Definition:</b> <a href="log_8h_source.html#l00070">log.h:70</a></div></div>
<div class="ttc" id="aclasshal_1_1_base_plugin_interface_html"><div class="ttname"><a href="classhal_1_1_base_plugin_interface.html">hal::BasePluginInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__base_8h_source.html#l00068">plugin_interface_base.h:68</a></div></div>
<div class="ttc" id="anamespacehal_html_a45f4052286462e64763c142a3e26ab93"><div class="ttname"><a href="namespacehal.html#a45f4052286462e64763c142a3e26ab93">hal::initialize</a></div><div class="ttdeci">void initialize()</div><div class="ttdef"><b>Definition:</b> <a href="event__log_8cpp_source.html#l00299">event_log.cpp:299</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_ad66fea3d4017a3c7b058436924d3dda3"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#ad66fea3d4017a3c7b058436924d3dda3">hal::plugin_manager::remove_model_changed_callback</a></div><div class="ttdeci">void remove_model_changed_callback(u64 id)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00385">plugin_manager.cpp:385</a></div></div>
<div class="ttc" id="aclasshal_1_1_program_options_html"><div class="ttname"><a href="classhal_1_1_program_options.html">hal::ProgramOptions</a></div><div class="ttdef"><b>Definition:</b> <a href="program__options_8h_source.html#l00047">program_options.h:47</a></div></div>
<div class="ttc" id="aclasshal_1_1_u_i_plugin_interface_html_aa402ba253b62f31e37ffa2f140600da3"><div class="ttname"><a href="classhal_1_1_u_i_plugin_interface.html#aa402ba253b62f31e37ffa2f140600da3">hal::UIPluginInterface::get_cli_options</a></div><div class="ttdeci">virtual ProgramOptions get_cli_options() const =0</div></div>
<div class="ttc" id="aplugin__interface__cli_8h_html"><div class="ttname"><a href="plugin__interface__cli_8h.html">plugin_interface_cli.h</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_acb6d1f3c164b832fb19257b1df06aa53"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#acb6d1f3c164b832fb19257b1df06aa53">hal::plugin_manager::unload_all_plugins</a></div><div class="ttdeci">bool unload_all_plugins()</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00285">plugin_manager.cpp:285</a></div></div>
<div class="ttc" id="anamespacenlohmann_1_1detail_html_a59fca69799f6b9e366710cb9043aa77d"><div class="ttname"><a href="namespacenlohmann_1_1detail.html#a59fca69799f6b9e366710cb9043aa77d">nlohmann::detail::void</a></div><div class="ttdeci">j template void())</div><div class="ttdef"><b>Definition:</b> <a href="json_8hpp_source.html#l03108">json.hpp:3108</a></div></div>
<div class="ttc" id="aruntime__library_8h_html"><div class="ttname"><a href="runtime__library_8h.html">runtime_library.h</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_af13862a2a5565fb995d7cc93c0bfd980"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#af13862a2a5565fb995d7cc93c0bfd980">hal::plugin_manager::load_all_plugins</a></div><div class="ttdeci">bool load_all_plugins(const std::vector&lt; std::filesystem::path &gt; &amp;directory_names)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00130">plugin_manager.cpp:130</a></div></div>
<div class="ttc" id="anamespacehal_1_1utils_html_a0de77a47a2551c69619fd6e3fce84674"><div class="ttname"><a href="namespacehal_1_1utils.html#a0de77a47a2551c69619fd6e3fce84674">hal::utils::ends_with</a></div><div class="ttdeci">CORE_API bool ends_with(const T &amp;s, const T &amp;end)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8h_source.html#l00145">utils.h:145</a></div></div>
<div class="ttc" id="aplugin__manager_8h_html"><div class="ttname"><a href="plugin__manager_8h.html">plugin_manager.h</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_ac7195b40f8ac66e68cfe5f8e6cf6f074"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#ac7195b40f8ac66e68cfe5f8e6cf6f074">hal::plugin_manager::get_ui_plugin_flags</a></div><div class="ttdeci">std::unordered_map&lt; std::string, std::string &gt; get_ui_plugin_flags()</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00120">plugin_manager.cpp:120</a></div></div>
<div class="ttc" id="anamespacehal_1_1utils_html_afbfe0cd7b2ec80643d4c16e4ffb7a7d3"><div class="ttname"><a href="namespacehal_1_1utils.html#afbfe0cd7b2ec80643d4c16e4ffb7a7d3">hal::utils::get_file</a></div><div class="ttdeci">std::filesystem::path get_file(std::string file_name, std::vector&lt; std::filesystem::path &gt; path_hints)</div><div class="ttdef"><b>Definition:</b> <a href="utils_8cpp_source.html#l00209">utils.cpp:209</a></div></div>
<div class="ttc" id="alog_8h_html"><div class="ttname"><a href="log_8h.html">log.h</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_a01b664fe781926cb67034f778e5242b1"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#a01b664fe781926cb67034f778e5242b1">hal::plugin_manager::add_existing_options_description</a></div><div class="ttdeci">void add_existing_options_description(const ProgramOptions &amp;existing_options)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00390">plugin_manager.cpp:390</a></div></div>
<div class="ttc" id="anet__layout__point_8h_html_aa7fe0c70576e86ca2c5f641bb47ccc9d"><div class="ttname"><a href="net__layout__point_8h.html#aa7fe0c70576e86ca2c5f641bb47ccc9d">u32</a></div><div class="ttdeci">quint32 u32</div><div class="ttdef"><b>Definition:</b> <a href="net__layout__point_8h_source.html#l00040">net_layout_point.h:40</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_a09fe50a3d6651ef3eebbfcfb2f36cea8"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#a09fe50a3d6651ef3eebbfcfb2f36cea8">hal::plugin_manager::add_model_changed_callback</a></div><div class="ttdeci">u64 add_model_changed_callback(std::function&lt; void(bool, std::string const &amp;, std::string const &amp;)&gt; callback)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00375">plugin_manager.cpp:375</a></div></div>
<div class="ttc" id="adefines_8h_html_a1af9f95651e921615e75917a6dd1b574"><div class="ttname"><a href="defines_8h.html#a1af9f95651e921615e75917a6dd1b574">u64</a></div><div class="ttdeci">uint64_t u64</div><div class="ttdef"><b>Definition:</b> <a href="defines_8h_source.html#l00046">defines.h:46</a></div></div>
<div class="ttc" id="aarch__linux_8h_html_a8b4cd25d21b3d1520a4fc3e967aa470c"><div class="ttname"><a href="arch__linux_8h.html#a8b4cd25d21b3d1520a4fc3e967aa470c">ALTERNATE_LIBRARY_FILE_EXTENSION</a></div><div class="ttdeci">#define ALTERNATE_LIBRARY_FILE_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="arch__linux_8h_source.html#l00036">arch_linux.h:36</a></div></div>
<div class="ttc" id="aclasshal_1_1_c_l_i_plugin_interface_html"><div class="ttname"><a href="classhal_1_1_c_l_i_plugin_interface.html">hal::CLIPluginInterface</a></div><div class="ttdef"><b>Definition:</b> <a href="plugin__interface__cli_8h_source.html#l00043">plugin_interface_cli.h:43</a></div></div>
<div class="ttc" id="anamespacehal_1_1plugin__manager_html_a54caf767ba2c2f754875e9aad4849767"><div class="ttname"><a href="namespacehal_1_1plugin__manager.html#a54caf767ba2c2f754875e9aad4849767">hal::plugin_manager::unload</a></div><div class="ttdeci">bool unload(const std::string &amp;plugin_name)</div><div class="ttdef"><b>Definition:</b> <a href="plugin__system_2plugin__manager_8cpp_source.html#l00304">plugin_manager.cpp:304</a></div></div>
<div class="ttc" id="aarch__linux_8h_html_a8482578c5c42538609e6e0abedcfc132"><div class="ttname"><a href="arch__linux_8h.html#a8482578c5c42538609e6e0abedcfc132">LIBRARY_FILE_EXTENSION</a></div><div class="ttdeci">#define LIBRARY_FILE_EXTENSION</div><div class="ttdef"><b>Definition:</b> <a href="arch__linux_8h_source.html#l00034">arch_linux.h:34</a></div></div>
<div class="ttc" id="aplugin__interface__ui_8h_html"><div class="ttname"><a href="plugin__interface__ui_8h.html">plugin_interface_ui.h</a></div></div>
<div class="ttc" id="aclasshal_1_1_c_l_i_plugin_interface_html_ad8ef97cbc2f3c5ae5280d48c6c25a7c6"><div class="ttname"><a href="classhal_1_1_c_l_i_plugin_interface.html#ad8ef97cbc2f3c5ae5280d48c6c25a7c6">hal::CLIPluginInterface::get_cli_options</a></div><div class="ttdeci">virtual ProgramOptions get_cli_options() const =0</div></div>
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_305084980f5b1614aa764d430f06c863.html">plugin_system</a></li><li class="navelem"><a class="el" href="plugin__system_2plugin__manager_8cpp.html">plugin_manager.cpp</a></li>
    <li class="footer">Generated on Sun Dec 11 2022 21:39:04 for HAL by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.17 </li>
  </ul>
</div>
</body>
</html>
